(this["webpackJsonpslowdraft-front-end"]=this["webpackJsonpslowdraft-front-end"]||[]).push([[0],{117:function(e,t){},136:function(e,t,a){},137:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=(a(62),a(1)),s=(a(63),a(4));function i(e){var t=e.error,a=e.errorInfo;return t&&s.ToastsStore.error("Oops an error occured. Please try again later."),r.a.createElement("div",null,t&&r.a.createElement("p",{className:"errorRow"},t),a&&r.a.createElement("p",{className:"errorRow"},a.toString()))}a(74);function u(e){var t=e.code,a=e.setLoggedIn,l=e.setPub,c=e.setSub,o=e.setIsLoading,i=!1;return Object(n.useEffect)((function(){"undefined"!==typeof t&&!1===i&&(o(!0),i=!0,o(!0),fetch("/login/".concat(t)).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){window.history.replaceState({},document.title,"/"),e.access_token&&e.refresh_token?(l(e.pub),c(e.sub),a(!0)):(a(!1),o(!1))})).catch((function(e){s.ToastsStore.error("There was an error connecting to the server. Please try again later."),console.log("Error: ".concat(e.text))})))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",null,"Slow",r.a.createElement("span",null,"Draft")),r.a.createElement("p",null,"Fantasy hockey drafting at your own pace"),r.a.createElement("p",null,"Currently by invitation only"),!1,r.a.createElement("div",{className:"connect-to-yahoo"},r.a.createElement("a",{href:"https://api.login.yahoo.com/oauth2/request_auth?client_id=dj0yJmk9ZXVsUnFtMm9hSlRqJmQ9WVdrOU1rOU5jWGQzTkhNbWNHbzlNQS0tJnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PWQ1&redirect_uri=https://slowdraft.herokuapp.com&response_type=code&language=en-us"},"Sign in with \xa0",r.a.createElement("img",{alt:"Yahoo",src:"yahoo.png",width:"57",height:"16"})))))}var m=a(47),d=a.n(m),p=a(3),f=(a(78),a(20));a(79);function g(e){var t=e.column,a=t.filterValue,n=t.setFilter,l=t.id;return r.a.createElement("input",{className:"search-filter",id:"".concat(l,"-search-filter"),value:a||"",onChange:function(e){n(""!==e.target.value?e.target.value:void 0)},placeholder:"Filter..."})}function E(e){var t=e.column,a=t.filterValue,n=t.setFilter,l=t.preFilteredRows,c=t.id,o=r.a.useMemo((function(){var e=new Set;return l.forEach((function(t){e.add(t.values[c])})),Object(f.a)(e.values())}),[c,l]),s={0:"Non-prospects",1:"Prospects"};return r.a.createElement("select",{value:a,onChange:function(e){n(e.target.value||void 0)}},r.a.createElement("option",{value:""},"All"),o.map((function(e,t){return r.a.createElement("option",{key:t,value:e},s[e])})))}function A(e){var t=e.column,a=t.filterValue,n=t.setFilter,l=t.preFilteredRows,c=t.id,o=r.a.useMemo((function(){var e=new Set;return l.forEach((function(t){e.add(t.values[c])})),Object(f.a)(e.values())}),[c,l]);return r.a.createElement("select",{value:a,onChange:function(e){n(e.target.value||void 0)}},r.a.createElement("option",{value:""},"All"),o.map((function(e,t){return e.length<3?r.a.createElement("option",{key:t,value:e},e):o})),r.a.createElement("option",{value:"/"},"Multi"))}var h=a(21),b=a(9),v=a(56);a(82),a(83);function y(e){var t=e.gotoPage,a=e.canPreviousPage,n=e.previousPage,l=e.nextPage,c=e.canNextPage,o=e.pageCount,s=e.pageIndex,i=e.pageOptions;return r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"pagination-goto-page"},r.a.createElement("span",{className:"page-link"},"Page",r.a.createElement("div",{className:"page-of-page"},r.a.createElement("strong",null,s+1," of ",i.length)," ")),r.a.createElement("span",{className:"page-link"},r.a.createElement("div",null,"Go\xa0to:"),r.a.createElement("input",{type:"number",defaultValue:s+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;t(a)},style:{width:"40px",height:"22px"}}))),r.a.createElement("li",{className:"pagination-arrows"},r.a.createElement("div",{className:"page-item",onClick:function(){return t(0)},disabled:!a},r.a.createElement("span",{className:"page-link"},"First")),r.a.createElement("div",{className:"page-item",onClick:function(){return n()},disabled:!a},r.a.createElement("span",{className:"page-link"},"<")),r.a.createElement("div",{className:"page-item",onClick:function(){return l()},disabled:!c},r.a.createElement("span",{className:"page-link"},">")),r.a.createElement("div",{className:"page-item",onClick:function(){return t(o-1)},disabled:!c},r.a.createElement("span",{className:"page-link"},"Last"))))}var w=a(13),O=a.n(w),F=a(14),C=a.n(F);a(136);function S(e){var t=e.setIsOpen;return r.a.createElement("div",{className:"close-button-wrapper"},r.a.createElement("button",{className:"close-modal",onClick:function(){t(!1)}},"x"))}function x(e){var t=e.modalIsOpen,a=e.setIsOpen,l=e.data,c=e.modalType,i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],d=u[1];return"draftPlayer"===c?r.a.createElement(O.a,{isOpen:t,onRequestClose:function(){return a(!1)},contentLabel:"Player Draft",parentSelector:function(){return document.querySelector("main")},id:"draft-player-modal"},r.a.createElement(S,{setIsOpen:a}),r.a.createElement("div",{className:"modal-title"},"You are about to draft:"),r.a.createElement("div",{className:"modal-player-info"},"undefined"!==typeof l.team&&r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,l.name),", ",l.position," - ",l.team.toUpperCase())),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"button-large",onClick:function(){return function(e){a(!1),s.ToastsStore.success("You have drafted ".concat(e.name))}(l)}},"Draft"),r.a.createElement("button",{className:"button-large",onClick:function(){return a(!1)}},"Cancel"))):"forumPost"===c?r.a.createElement(O.a,{isOpen:t,onAfterOpen:function(){return e=l.id,void(""===m&&fetch("/view_post_replies/".concat(e)).then((function(e){return e.json()})).then((function(e){d(e.replies)})));var e},onRequestClose:function(){return a(!1)},contentLabel:"Forum Post",parentSelector:function(){return document.querySelector("main")},id:"forum-post-modal"},r.a.createElement(S,{setIsOpen:a}),r.a.createElement("div",{className:"modal-title"},C()(l.title)),r.a.createElement("span",{className:"modal-forum-user"},l.user),r.a.createElement("div",{className:"modal-forum-text"},C()(l.body)),""!==m&&r.a.createElement("div",{className:"replies"},m.map((function(e){return r.a.createElement("div",{key:e.id,className:"forum-reply"},r.a.createElement("span",{className:"modal-forum-user"},e.name," \xa0",r.a.createElement("div",{className:"modal-forum-date"},function(e){var t=new Date(e),a=new Date,n=(a.getTime()-t)/1e3;if(n<60)return parseInt(n)+"s ago";if(n<3600)return parseInt(n/60)+"m ago";if(n<=86400)return parseInt(n/3600)+"h ago";if(n<=2629800)return parseInt(n/86400)+"days ago";if(n>2629800){var r=t.getDate();return t.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ","")+" "+r+", "+(t.getFullYear()===a.getFullYear()?"":t.getFullYear())}}(e.create_date))),r.a.createElement("div",{className:"modal-forum-text"},C()(e.body)))}))),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"button-large"},"Reply"))):"newForumPost"===c?r.a.createElement(O.a,{isOpen:t,onRequestClose:function(){return a(!1)},contentLabel:"Player Draft",parentSelector:function(){return document.querySelector("main")},id:"new-forum-post-modal"},r.a.createElement(S,{setIsOpen:a}),r.a.createElement("div",{className:"modal-title"},"New forum post"),r.a.createElement("form",{className:"new-forum-post-form"},r.a.createElement("div",null,r.a.createElement("label",{name:"title"},"Title"),r.a.createElement("input",{type:"text",label:"title"})),r.a.createElement("div",null,r.a.createElement("label",{name:"body"},"Post"),r.a.createElement("div",{id:"editor"})),r.a.createElement("button",{className:"margin-15"},"Save")),r.a.createElement("div",{className:"modal-player-info"},"undefined"!==typeof l.team&&r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,l.name),", ",l.position," - ",l.team.toUpperCase()))):null}var j=a(49),N=a.n(j);a(137);function P(e){return r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement("div",{className:"loading-text"},e.text),r.a.createElement("img",{src:N.a,alt:""}))}function k(e){var t=e.columns,a=e.data,l=e.defaultColumnFilter,c=e.tableState,s=e.tableType,i=e.loading,u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),E=g[0],A=g[1],w=Object(n.useState)(""),O=Object(o.a)(w,2),F=O[0],C=O[1];var S=r.a.useMemo((function(){return{fuzzyText:j,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]);function j(e,t,a){return Object(v.a)(e,a,{keys:[function(e){return e.values[t]}]})}c=Object(h.a)(Object(h.a)({},c),{},{pageIndex:0,pageSize:25});var N=Object(b.useTable)({columns:t,data:a,defaultColumnFilter:l,filterTypes:S,initialState:c},b.useFilters,b.useSortBy,b.usePagination),k=N.getTableProps,I=N.getTableBodyProps,H=N.headerGroups,T=N.prepareRow,Z=N.page,q=N.canPreviousPage,B=N.canNextPage,L=N.pageOptions,Q=N.pageCount,D=N.gotoPage,G=N.nextPage,W=N.previousPage,V=N.state.pageIndex;return r.a.createElement("div",null,"forum"!=s&&r.a.createElement(y,{gotoPage:D,previousPage:W,canPreviousPage:q,nextPage:G,canNextPage:B,pageCount:Q,pageIndex:V,pageOptions:L}),i&&r.a.createElement(P,null),!i&&r.a.createElement("table",Object.assign({className:"table"},k()),r.a.createElement("thead",null,H.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),"draft"===s&&r.a.createElement("th",{className:"blank-cell",width:"30px"}),e.headers.map((function(e){return"Player Type"===e.Header?r.a.createElement("th",{key:e.accessor,id:"prospect-column"},r.a.createElement("span",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header")),r.a.createElement("div",null,e.canFilter?e.render("Filter"):null)):r.a.createElement("th",{key:e.id,width:e.width},r.a.createElement("span",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \u25bc":" \u25b2":"")),r.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),r.a.createElement("tbody",I(),Z.map((function(e,t){return T(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return"Position"===e.column.Header?r.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render((function(e){var t=e.value;return String(t+",").substring(0,String(t).length)}))):"Name"===e.column.Header?r.a.createElement(r.a.Fragment,null,"draft"===s&&r.a.createElement("td",{className:"draft-button-cell"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t=e.row.original,p(!0),void A(t);var t}},"Draft"),r.a.createElement(x,{modalIsOpen:d,setIsOpen:p,data:E,modalType:"draftPlayer"}))),r.a.createElement("td",Object.assign({className:"player-name"},e.getCellProps()),r.a.createElement("a",{href:"https://sports.yahoo.com/nhl/players/".concat(e.row.original.player_id),target:"_blank",rel:"noopener noreferrer"},"1"===e.row.original.prospect&&r.a.createElement("span",null,r.a.createElement("span",{className:"prospect"},"P"),"\xa0"),e.render("Cell")))):"Title"===e.column.Header?r.a.createElement("td",Object.assign({width:"50vw",className:"post-title"},e.getCellProps()),r.a.createElement("div",{onClick:function(){return t=e.row.original,p(!0),void C(t);var t}},e.render("Cell")),r.a.createElement(x,{modalIsOpen:d,setIsOpen:p,data:F,modalType:"forumPost"})):"Player Type"===e.column.Header?r.a.createElement("td",{className:"prospect-column-hidden"}):r.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render("Cell"))})))})))),r.a.createElement(y,{gotoPage:D,previousPage:W,canPreviousPage:q,nextPage:G,canNextPage:B,pageCount:Q,pageIndex:V,pageOptions:L}))}var I=a(12),H=a.n(I),T=a(50),Z=a(51),q=a.n(Z),B=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){var t=!1;return function(){var a=Object(T.a)(H.a.mark((function a(){var n;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,u(!0),a.next=4,q()(e);case 4:n=a.sent,t||(l(n.data),f(!1)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),f(!0);case 11:return a.prev=11,u(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!0}}),[e]),{data:r,loading:i,error:p}};function L(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=[{Header:"Name",accessor:"name",Filter:g,sortType:"alphanumeric",width:"100px"},{Header:"Player Type",accessor:"prospect",Filter:E,width:"0px"},{Header:"Team",accessor:"team",sort:!1,Filter:g,width:"50px"},{Header:"Pos",accessor:"position",Filter:A,width:"30px"},{Header:"G",accessor:"1",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"A",accessor:"2",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"P",accessor:"3",disableFilters:!0,sortDescFirst:!0,width:"30px"},{Header:"PIM",accessor:"5",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"PPP",accessor:"8",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"SOG",accessor:"14",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"S%",accessor:"15",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"FW",accessor:"16",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"HIT",accessor:"31",disableFilters:!0,width:"30px",sortDescFirst:!0},{Header:"BLK",accessor:"32",disableFilters:!0,width:"30px",sortDescFirst:!0},{accessor:"careerGP"},{accessor:"player_id"},{accessor:"player_key"}],s=B("/get_db_players"),u=s.data,m=s.loading,d=s.error;return Object(n.useEffect)((function(){l(u.players)}),[u]),r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(i,null),!m&&r.a.createElement(k,{data:a,columns:c,tableState:{hiddenColumns:["player_id","player_key","careerGP"],sortBy:[{id:"3",desc:!0}]},defaultColumn:"name",tableType:"draft",loading:m}))}function Q(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=[{Header:"Name",accessor:"name",Filter:g,sortType:"alphanumeric",width:"100px"},{Header:"Player Type",accessor:"prospect",Filter:E,width:"0px"},{Header:"Team",accessor:"team",Filter:g,sortType:"alphanumeric",width:"100px"},{Header:"GS",accessor:"18",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"W",accessor:"19",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"GA",accessor:"22",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"GAA",accessor:"23",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"SA",accessor:"24",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"SV",accessor:"25",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{Header:"SV%",accessor:"26",disableFilters:!0,sortType:"alphanumeric",width:"30px"},{accessor:"position"},{accessor:"careerGP"},{accessor:"player_id"},{accessor:"player_key"}],s=Object(n.useState)(!0),i=Object(o.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){m(!0),fetch("/get_db_players?position=G").then((function(e){return e.json()})).then((function(e){l(e.players)})).then(m(!1))}),[]),r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(P,null),!u&&r.a.createElement(k,{data:a,columns:c,tableState:{hiddenColumns:["position","player_id","player_key","careerGP"],sortBy:[{id:"19",desc:!0}]},defaultColumn:"name",tableType:"draft"}))}function D(){var e=[{Header:"Name",accessor:"name",Filter:g},{Header:"Team",accessor:"team",Filter:g},{Header:"Player ID",accessor:"player_id",hidden:!0},{Header:"Position",accessor:"position.position",Filter:g}],t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){m(!0),fetch("/get_players").then((function(e){return e.json()})).then((function(e){c(e.players)})).then(m(!1))}),[]),u?r.a.createElement(P,{text:"Loading your team..."}):u?void 0:r.a.createElement(k,{data:l,columns:e,tableState:{hiddenColumns:["player_id"],sortBy:[{id:"name",desc:!1}]},defaultColumn:"player_id"})}function G(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],u=s[1],m=[{Header:"Title",accessor:"title",Filter:g,width:"400px"},{Header:"User",accessor:"user",Filter:g},{Header:"Body",accessor:"body",show:!1},{Header:"Date Posted",accessor:"create_date",disableFilters:!0}],d=Object(n.useState)(!0),p=Object(o.a)(d,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){E(!0),fetch("/get_forum_posts").then((function(e){return e.json()})).then((function(e){l(e.posts)})).then(E(!1))}),[]),r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(P,null),!f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"margin-15",onClick:function(){return u(!0)}},"New post"),r.a.createElement(x,{modalIsOpen:i,setIsOpen:u,data:"",modalType:"newForumPost"}),r.a.createElement(k,{data:a,columns:m,tableState:{hiddenColumns:["body"],sortBy:[{id:"create_date",desc:!1}]},defaultColumn:"create_date",tableType:"forum"})))}function W(e){var t=e.logout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,{defaultIndex:1,className:"navbar-tabs"},r.a.createElement(p.b,null,r.a.createElement(p.a,null,"Skaters"),r.a.createElement(p.a,null,"Goalies"),r.a.createElement(p.a,null,"Team"),r.a.createElement(p.a,null,"Forum")),r.a.createElement(p.c,null,r.a.createElement(L,null)),r.a.createElement(p.c,null,r.a.createElement(Q,null)),r.a.createElement(p.c,null,r.a.createElement(D,null)),r.a.createElement(p.c,null,r.a.createElement(G,null))),r.a.createElement("button",{id:"logout",onClick:t},"Logout"))}var V=a(19),J=a.n(V);function U(e){return r.a.createElement("ul",{id:"chat-messages"},r.a.createElement("li",null,r.a.createElement("div",null,e.messages.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("span",{className:"user"},e.uuid,": "),r.a.createElement("span",{className:"message"},e.text))})))))}a(155);var X=a(52),K=a(53),R=a(55),M=a(54),Y=function(e){Object(R.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(X.a)(this,a),(n=t.call(this,e)).state={hasError:!1,errorInfo:null},n}return Object(K.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState={error:e,errorInfo:t}}},{key:"render",value:function(){return this.state.errorInfo?r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{error:this.state.error,errorInfo:this.state.error}),this.state.error.toString()):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorInfo:e}}}]),a}(r.a.Component);function z(e){var t=e.pub,a=e.sub,l=Object(n.useState)([]),c=Object(o.a)(l,2),s=c[0],i=c[1],u=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return{value:a,setValue:r,onChange:function(e){r(e.target.value)}}}(),m=Object(n.useState)(["anon"]),d=Object(o.a)(m,2),p=d[0];d[1];return Object(n.useEffect)((function(){console.log("setting up chat");var e=new J.a({publishKey:t,subscribeKey:a,uuid:p});return e.addListener({status:function(e){"PNConnectedCategory"===e.category&&console.log("Connected to chat!")},message:function(e){if(e.message.text){console.log(e.message.text);var t=[];t.push({uuid:e.message.uuid,text:e.message.text}),i((function(e){return e.concat(t)}))}}}),e.subscribe({channels:["test"]}),e.history({channel:"test",count:10,stringifiedTimeToken:!0},(function(e,t){for(var a=[],n=0;n<t.messages.length;n++)a.push({uuid:t.messages[n].entry.uuid,text:t.messages[n].entry.text});i((function(e){return e.concat(a)}))})),function(){console.log("closing chat"),e.unsubscribeAll(),i([])}}),["test",p,t,a]),r.a.createElement(Y,null,""!==t&&""!==a&&r.a.createElement("aside",{id:"chatbox"},r.a.createElement("h3",{id:"chat-title"},"League Chat"),r.a.createElement(U,{messages:s}),r.a.createElement("input",{placeholder:"Enter a message...",id:"messageInput",value:u.value,onChange:u.onChange,onKeyDown:function(e){"messageInput"===e.target.id&&"Enter"===e.key&&function(){if(u.value){var e={text:u.value,uuid:p};new J.a({publishKey:t,subscribeKey:a,uuid:p}).publish({message:e,channel:"test"}),u.setValue("")}}()}})))}function _(e){var t=e.logout,a=e.pub,n=e.sub,l=e.setLoadingText;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{logout:t}),r.a.createElement(z,{pub:a,sub:n,setLoadingText:l}))}a(156);function $(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),m=i[0],p=i[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),E=g[0],A=g[1],h=Object(n.useState)(!0),b=Object(o.a)(h,2),v=(b[0],b[1]),y=d.a.parse(window.location.search).code,w=B("/check_login"),O=w.data,F=w.loading;w.requestError;return Object(n.useEffect)((function(){a||"undefined"===typeof y&&(!0===O.success?(p(O.pub),A(O.sub),window.history.replaceState({},document.title,"/"),l(!0)):l(!1),v(!1))}),[O]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null,r.a.createElement(s.ToastsContainer,{store:s.ToastsStore,position:s.ToastsContainerPosition.TOP_CENTER}),F&&r.a.createElement(P,null),!F&&!a&&r.a.createElement(Y,null,r.a.createElement(u,{code:y,setLoggedIn:l,setPub:p,setSub:A,setIsLoading:v})),a&&r.a.createElement("main",null,r.a.createElement(Y,null,r.a.createElement(_,{logout:function(){fetch("/logout").then((function(e){return e.json()})).then((function(e){console.log("Logging out: "+e.success),l(!1),v(!1)}))},pub:m,sub:E})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t){e.exports="data:image/gif;base64,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"},57:function(e,t,a){e.exports=a(157)},62:function(e,t,a){},63:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.c44f1ac1.chunk.js.map