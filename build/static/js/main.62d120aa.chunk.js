(this["webpackJsonpslowdraft-front-end"]=this["webpackJsonpslowdraft-front-end"]||[]).push([[0],{28:function(e,t){e.exports="data:image/gif;base64,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"},30:function(e,t,a){e.exports=a(92)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},67:function(e,t){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),c=a.n(o),r=(a(35),a(1));a(36);a(37);function s(e){var t=e.code,a=e.setLoggedIn,o=e.setPub,c=e.setSub,r=e.setIsLoading;return Object(n.useEffect)((function(){console.log("in Login useEffect"),"undefined"!==typeof t&&(console.log("Code is "+t+", setting loading to true"),r(!0),r(!0),console.log("fetching /login/code"),fetch("/login/".concat(t)).then((function(e){return e.json()})).then((function(e){window.history.replaceState({},document.title,"/"),e.access_token&&e.refresh_token?(console.log("setting loggedIn to true"),o(e.pub),c(e.sub),a(!0)):a(!1)})).then(r(!1)))})),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"login-container"},l.a.createElement("h1",null,"Slow",l.a.createElement("span",null,"Draft")),l.a.createElement("p",null,"Fantasy hockey drafting at your own pace"),l.a.createElement("p",null,"Currently by invitation only"),!1,l.a.createElement("div",{className:"connect-to-yahoo"},l.a.createElement("a",{href:"https://api.login.yahoo.com/oauth2/request_auth?client_id=dj0yJmk9ZXVsUnFtMm9hSlRqJmQ9WVdrOU1rOU5jWGQzTkhNbWNHbzlNQS0tJnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PWQ1&redirect_uri=https://slowdraft.herokuapp.com&response_type=code&language=en-us"},"Sign in with \xa0",l.a.createElement("img",{alt:"Yahoo",src:"yahoo.png",width:"57",height:"16"})))))}var u=a(27),i=a.n(u),m=a(2);a(41);function A(){fetch("/get_league").then((function(e){return e.json()})).then((function(e){return console.log("test data: "+JSON.stringify(e,null,4)),"Got 'em"}))}function g(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:A},"test"))}var d=a(28),p=a.n(d);a(42);function E(e){return l.a.createElement("div",{className:"loading-wrapper"},l.a.createElement("div",{className:"loading-text"},e.text),l.a.createElement("img",{src:p.a,alt:""}))}var h=a(11),f=a(29),b=a.n(f),v=a(9);a(89);function y(e){var t=e.columns,a=e.data,n=e.tableState;n=Object(h.a)(Object(h.a)({},n),{},{pageIndex:0,pageSize:10});var o=Object(v.useTable)({columns:t,data:a,initialState:n},v.usePagination),c=o.getTableProps,r=o.getTableBodyProps,s=o.headerGroups,u=o.prepareRow,i=o.page,m=o.canPreviousPage,A=o.canNextPage,g=o.pageOptions,d=o.pageCount,p=o.gotoPage,E=o.nextPage,f=o.previousPage,y=o.setPageSize,C=o.state,j=C.pageIndex,k=C.pageSize;return l.a.createElement("div",null,l.a.createElement("table",Object.assign({className:"table"},c()),l.a.createElement("thead",null,s.map((function(e){return l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),l.a.createElement("tbody",r(),i.map((function(e,t){return u(e),l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return"Position"===e.column.Header?l.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render((function(e){var t=e.value;return String(t+",").substring(0,String(t).length)}))):"Name"===e.column.Header?l.a.createElement("td",Object.assign({className:"player-name"},e.getCellProps()),l.a.createElement("a",{href:"https://sports.yahoo.com/nhl/players/".concat(e.row.original.player_id),target:"_blank",rel:"noopener noreferrer"},e.render("Cell"))):"Post Title"===e.column.Header?l.a.createElement("td",Object.assign({width:"50vw",className:"post-title",onClick:function(){return t=e.row.id,void document.getElementById("body-"+t).classList.toggle("hidden");var t}},e.getCellProps()),l.a.createElement("strong",null,e.render("Cell")," a"),"\u2935",l.a.createElement("div",{id:"body-".concat(e.row.id),className:"hidden"},b()(e.row.original.body))):l.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render("Cell"))})))})))),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"pagination-arrows"},l.a.createElement("div",{className:"page-item",onClick:function(){return p(0)},disabled:!m},l.a.createElement("span",{className:"page-link"},"First")),l.a.createElement("div",{className:"page-item",onClick:function(){return f()},disabled:!m},l.a.createElement("span",{className:"page-link"},"<")),l.a.createElement("div",{className:"page-item",onClick:function(){return E()},disabled:!A},l.a.createElement("span",{className:"page-link"},">")),l.a.createElement("div",{className:"page-item",onClick:function(){return p(d-1)},disabled:!A},l.a.createElement("span",{className:"page-link"},"Last"))),l.a.createElement("li",{className:"pagination-goto-page"},l.a.createElement("span",{className:"page-link"},"Page\xa0",l.a.createElement("div",{className:"page-of-page"},l.a.createElement("strong",null,j+1," of ",g.length)," ")),l.a.createElement("span",{className:"page-link"},l.a.createElement("div",null,"Go\xa0to:"),l.a.createElement("input",{type:"number",defaultValue:j+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;p(t)},style:{width:"40px",height:"22px"}})))," ",l.a.createElement("select",{className:"form-control",value:k,onChange:function(e){y(Number(e.target.value))},style:{maxWidth:"150px",height:"33px"}},[5,10,20,30,40,50].map((function(e){return l.a.createElement("option",{key:e,value:e},"Show ",e)})))))}function C(){var e={"":""},t=Object(n.useState)([e]),a=Object(r.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(!0),u=Object(r.a)(s,2),i=u[0],m=u[1];return Object(n.useEffect)((function(){m(!0),fetch("/get_players").then((function(e){return e.json()})).then((function(e){c(e.players)})).then(m(!1))}),[]),i?l.a.createElement(E,{text:"Loading your team..."}):i?void 0:l.a.createElement(l.a.Fragment,null,o!==e&&l.a.createElement(y,{data:o,columns:[{Header:"Name",accessor:"name"},{Header:"Team",accessor:"team"},{Header:"Player ID",accessor:"player_id",hidden:!0},{Header:"Position",accessor:"position.position"}],tableState:{pageIndex:1,pageSize:10,pageCount:1e4,canNextPage:!0,canPreviousPage:!0,hiddenColumns:["player_id"]}}))}function j(){var e=Object(n.useState)([{"":""}]),t=Object(r.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),s=Object(r.a)(c,2),u=(s[0],s[1]);return Object(n.useEffect)((function(){u(!0),fetch("/get_forum_posts").then((function(e){return e.json()})).then((function(e){console.log("data: "+JSON.stringify(e.posts,null,4)),o(e.posts)})).then(u(!1))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(y,{data:a,columns:[{Header:"Post Title",accessor:"title"},{Header:"User",accessor:"user"},{Header:"Body",accessor:"body",show:!1},{Header:"Date Posted",accessor:"create_date"}],tableState:{hiddenColumns:["body"]}}))}function k(e){var t=e.logout;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.d,{defaultIndex:1,className:"navbar-tabs"},l.a.createElement(m.b,null,l.a.createElement(m.a,null,"Players"),l.a.createElement(m.a,null,"Team"),l.a.createElement(m.a,null,"Forum")),l.a.createElement(m.c,null,l.a.createElement(g,null)),l.a.createElement(m.c,null,l.a.createElement(C,null)),l.a.createElement(m.c,null,l.a.createElement(j,null))),l.a.createElement("button",{id:"logout",onClick:t},"Logout"))}var S=a(10),w=a.n(S);function Z(e){return l.a.createElement("ul",{id:"chat-messages"},l.a.createElement("li",null,l.a.createElement("div",null,e.messages.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("span",{className:"user"},e.uuid,": "),l.a.createElement("span",{className:"message"},e.text))})))))}a(90);function O(e){var t=e.pub,a=e.sub;console.log("pub: "+t+", sub: "+a);var o=Object(n.useState)([]),c=Object(r.a)(o,2),s=c[0],u=c[1],i=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],l=t[1];return{value:a,setValue:l,onChange:function(e){l(e.target.value)}}}(),m=Object(n.useState)(["anon",(new Date).getTime()].join("-")),A=Object(r.a)(m,2),g=A[0];A[1];return Object(n.useEffect)((function(){console.log("setting up chat");var e=new w.a({publishKey:t,subscribeKey:a,uuid:g});return e.addListener({status:function(e){"PNConnectedCategory"===e.category&&console.log("Connected to chat!")},message:function(e){if(e.message.text){console.log(e.message.text);var t=[];t.push({uuid:e.message.uuid,text:e.message.text}),u((function(e){return e.concat(t)}))}}}),e.subscribe({channels:["Global2"]}),e.history({channel:"Global2",count:10,stringifiedTimeToken:!0},(function(e,t){for(var a=[],n=0;n<t.messages.length;n++)a.push({uuid:t.messages[n].entry.uuid,text:t.messages[n].entry.text});u((function(e){return e.concat(a)}))})),function(){console.log("closing chat"),e.unsubscribeAll(),u([])}}),["Global2",g,t,a]),l.a.createElement(l.a.Fragment,null,""!==t&&""!==a&&l.a.createElement("aside",{id:"chatbox"},l.a.createElement("h3",{id:"chat-title"},"League Chat"),l.a.createElement(Z,{messages:s}),l.a.createElement("input",{placeholder:"Enter a message...",id:"messageInput",value:i.value,onChange:i.onChange,onKeyDown:function(e){"messageInput"===e.target.id&&"Enter"===e.key&&function(){if(i.value){var e={text:i.value,uuid:g};new w.a({publishKey:t,subscribeKey:a,uuid:g}).publish({message:e,channel:"Global2"}),i.setValue("")}}()}})))}function x(e){var t=e.logout,a=e.pub,n=e.sub,o=e.setLoadingText;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{logout:t}),l.a.createElement(O,{pub:a,sub:n,setLoadingText:o}))}a(91);function N(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),u=Object(r.a)(c,2),m=u[0],A=u[1],g=Object(n.useState)(""),d=Object(r.a)(g,2),p=d[0],h=d[1],f=Object(n.useState)(""),b=Object(r.a)(f,2),v=b[0],y=b[1],C=Object(n.useState)("Loading..."),j=Object(r.a)(C,2),k=j[0],S=j[1],w=Object(n.useState)(!0),Z=Object(r.a)(w,2),O=Z[0],N=Z[1],I=i.a.parse(window.location.search).code;return console.log("loggedIn: "+a),Object(n.useEffect)((function(){if(console.log("In App useEffect"),"undefined"===typeof I)try{console.log("fetching check_login"),fetch("/check_login").then((function(e){return e.json()})).then((function(e){!0===e.success?(A(e.pub),h(e.sub),window.history.replaceState({},document.title,"/"),o(!0)):o(!1),console.log("setting isLoading to false"),N(!1)}))}catch(v){console.log("Error in App useEffect"),y("Unable to reach Yahoo. "+v),N(!1)}else N(!1)}),[I]),l.a.createElement("main",null,v&&l.a.createElement("div",null,v),O&&l.a.createElement(E,{text:k}),!O&&!a&&l.a.createElement(s,{code:I,setLoggedIn:o,setPub:A,setSub:h,setIsLoading:N,setLoadingText:S}),a&&l.a.createElement(x,{logout:function(){fetch("/logout").then((function(e){return e.json()})).then((function(e){console.log("Logging out: "+e.success),o(!1),N(!1),S("Loading...")}))},pub:m,sub:p,setLoadingText:S}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.62d120aa.chunk.js.map