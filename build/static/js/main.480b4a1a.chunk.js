(this["webpackJsonpslowdraft-front-end"]=this["webpackJsonpslowdraft-front-end"]||[]).push([[0],[,,,,,,,,,function(e,t){e.exports="data:image/gif;base64,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"},function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(6),l=n.n(c),r=(n(15),n(1));n(16);n(17);function u(e){var t=e.code,n=e.setLoggedIn,c=e.setPub,l=e.setSub,r=e.setIsLoading;return Object(a.useEffect)((function(){console.log("in Login useEffect"),"undefined"!==typeof t&&(console.log("Code is "+t+", setting loading to true"),r(!0),r(!0),console.log("fetching /login/code"),fetch("/login/".concat(t)).then((function(e){return e.json()})).then((function(e){window.history.replaceState({},document.title,"/"),e.access_token&&e.refresh_token?(console.log("setting loggedIn to true"),c(e.pub),l(e.sub),n(!0)):n(!1)})).then(r(!1)))})),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"login-container"},o.a.createElement("h1",null,"Slow",o.a.createElement("span",null,"Draft")),o.a.createElement("p",null,"Fantasy hockey drafting at your own pace"),o.a.createElement("p",null,"Currently by invitation only"),!1,o.a.createElement("div",{className:"connect-to-yahoo"},o.a.createElement("a",{href:"https://api.login.yahoo.com/oauth2/request_auth?client_id=dj0yJmk9ZXVsUnFtMm9hSlRqJmQ9WVdrOU1rOU5jWGQzTkhNbWNHbzlNQS0tJnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PWQ1&redirect_uri=https://slowdraft.herokuapp.com&response_type=code&language=en-us"},"Sign in with \xa0",o.a.createElement("img",{alt:"Yahoo",src:"yahoo.png",width:"57",height:"16"})))))}var s=n(7),i=n.n(s),A=function(e){return e.children},m=n(2);n(21);function g(){fetch("/get_league").then((function(e){return e.json()})).then((function(e){return console.log("test data: "+JSON.stringify(e,null,4)),"Got 'em"}))}function d(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:g},"test"))}var f=n(8);n(25);function h(e){var t=e.players,n=o.a.useMemo((function(){return t}),[t]),a=o.a.useMemo((function(){return[{Header:"Name",accessor:"name"},{Header:"Team",accessor:"team"},{Header:"Player ID",accessor:"player_id",hidden:!0},{Header:"Position",accessor:"position.position"}]}),[]),c=Object(f.useTable)({columns:a,data:n}),l=c.getTableProps,r=c.getTableBodyProps,u=c.headerGroups,s=c.rows,i=c.prepareRow;return o.a.createElement("table",l(),o.a.createElement("thead",null,u.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return o.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),o.a.createElement("tbody",r(),s.map((function(e){return i(e),o.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return"Position"===e.column.Header?o.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render((function(e){var t=e.value;return String(t+", ").substring(0,String(t).length)}))):"Name"===e.column.Header?o.a.createElement("td",Object.assign({className:"player-name"},e.getCellProps()),o.a.createElement("a",{href:"https://sports.yahoo.com/nhl/players/".concat(e.column.Header)},e.render("Cell"))):o.a.createElement("td",Object.assign({className:e.column.Header},e.getCellProps()),e.render("Cell"))})))}))))}var p=n(9),E=n.n(p);n(26);function b(e){return o.a.createElement("div",{className:"loading-wrapper"},o.a.createElement("div",{className:"loading-text"},e.text),o.a.createElement("img",{src:E.a,alt:""}))}function y(){var e=Object(a.useState)([{"":""}]),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!0),u=Object(r.a)(l,2),s=u[0],i=u[1];return Object(a.useEffect)((function(){i(!0),fetch("/get_players").then((function(e){return e.json()})).then((function(e){console.log("data: "+JSON.stringify(e.players,null,4)),c(e.players)})).then(i(!1))}),[]),s?o.a.createElement(b,{text:"Loading your team..."}):s?void 0:o.a.createElement(o.a.Fragment,null,"undefined"!==typeof n&&o.a.createElement(h,{players:n}))}function v(e){var t=e.logout;return o.a.createElement(A,null,o.a.createElement(m.d,{defaultIndex:1,className:"navbar-tabs"},o.a.createElement(m.b,null,o.a.createElement(m.a,null,"Players"),o.a.createElement(m.a,null,"Team"),o.a.createElement(m.a,null,"Forum")),o.a.createElement(m.c,null,o.a.createElement(d,null)),o.a.createElement(m.c,null,o.a.createElement(y,null)),o.a.createElement(m.c,null,o.a.createElement("h2",null,"tab 3 content"))),o.a.createElement("button",{id:"logout",onClick:t},"Logout"))}var C=n(5),Z=n.n(C);function j(e){return o.a.createElement("ul",{id:"chat-messages"},o.a.createElement("li",null,o.a.createElement("div",null,e.messages.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("span",{className:"user"},e.uuid,": "),o.a.createElement("span",{className:"message"},e.text))})))))}n(27);function Q(e){var t=e.pub,n=e.sub;console.log("pub: "+t+", sub: "+n);var c=Object(a.useState)([]),l=Object(r.a)(c,2),u=l[0],s=l[1],i=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1];return{value:n,setValue:o,onChange:function(e){o(e.target.value)}}}(),A=Object(a.useState)(["anon",(new Date).getTime()].join("-")),m=Object(r.a)(A,2),g=m[0];m[1];return Object(a.useEffect)((function(){console.log("setting up chat");var e=new Z.a({publishKey:t,subscribeKey:n,uuid:g});return e.addListener({status:function(e){"PNConnectedCategory"===e.category&&console.log("Connected to chat!")},message:function(e){if(e.message.text){console.log(e.message.text);var t=[];t.push({uuid:e.message.uuid,text:e.message.text}),s((function(e){return e.concat(t)}))}}}),e.subscribe({channels:["Global2"]}),e.history({channel:"Global2",count:10,stringifiedTimeToken:!0},(function(e,t){for(var n=[],a=0;a<t.messages.length;a++)n.push({uuid:t.messages[a].entry.uuid,text:t.messages[a].entry.text});s((function(e){return e.concat(n)}))})),function(){console.log("closing chat"),e.unsubscribeAll(),s([])}}),["Global2",g,t,n]),o.a.createElement(o.a.Fragment,null,""!==t&&""!==n&&o.a.createElement("aside",{id:"chatbox"},o.a.createElement(j,{messages:u}),o.a.createElement("input",{placeholder:"Enter a message...",id:"messageInput",value:i.value,onChange:i.onChange,onKeyDown:function(e){"messageInput"===e.target.id&&"Enter"===e.key&&function(){if(i.value){var e={text:i.value,uuid:g};new Z.a({publishKey:t,subscribeKey:n,uuid:g}).publish({message:e,channel:"Global2"}),i.setValue("")}}()}})))}function k(e){var t=e.logout,n=e.pub,a=e.sub,c=e.setLoadingText;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{logout:t}),o.a.createElement(Q,{pub:n,sub:a,setLoadingText:c}))}n(28);function w(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),s=Object(r.a)(l,2),m=s[0],g=s[1],d=Object(a.useState)(""),f=Object(r.a)(d,2),h=f[0],p=f[1],E=Object(a.useState)(""),y=Object(r.a)(E,2),v=y[0],C=y[1],Z=Object(a.useState)("Loading..."),j=Object(r.a)(Z,2),Q=j[0],w=j[1],S=Object(a.useState)(!0),I=Object(r.a)(S,2),L=I[0],q=I[1],O=i.a.parse(window.location.search).code;return console.log("loggedIn: "+n),Object(a.useEffect)((function(){if(console.log("In App useEffect"),"undefined"===typeof O)try{console.log("fetching check_login"),fetch("/check_login").then((function(e){return e.json()})).then((function(e){!0===e.success?(g(e.pub),p(e.sub),window.history.replaceState({},document.title,"/"),c(!0)):c(!1),console.log("setting isLoading to false"),q(!1)}))}catch(v){console.log("Error in App useEffect"),C("Unable to reach Yahoo. "+v),q(!1)}else q(!1)}),[O]),o.a.createElement(A,null,v&&o.a.createElement("div",null,v),L&&o.a.createElement(b,{text:Q}),!L&&!n&&o.a.createElement(u,{code:O,setLoggedIn:c,setPub:g,setSub:p,setIsLoading:q,setLoadingText:w}),n&&o.a.createElement(k,{logout:function(){fetch("/logout").then((function(e){return e.json()})).then((function(e){console.log("Logging out: "+e.success),c(!1),q(!1),w("Loading...")}))},pub:m,sub:h,setLoadingText:w}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.480b4a1a.chunk.js.map